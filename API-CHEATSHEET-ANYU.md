# å®‰éš…APP APIæ¥å£æ¸…å•

## ğŸ“‹ æ¥å£æ¦‚è§ˆ

| æ¨¡å— | æ¥å£æ•°é‡ | ä¸»è¦åŠŸèƒ½ |
|------|----------|----------|
| ç”¨æˆ·è®¤è¯ | 5 | æ³¨å†Œã€ç™»å½•ã€å¯†ç ç®¡ç† |
| è´¦å•ç®¡ç† | 5 | è´¦å•å¢åˆ æ”¹æŸ¥ |
| åˆ†ç±»ç®¡ç† | 4 | æ”¶æ”¯åˆ†ç±»ç®¡ç† |
| ç»Ÿè®¡æ•°æ® | 2 | æœˆåº¦ã€å¹´åº¦ç»Ÿè®¡ |
| æƒ…æ„Ÿäº¤æµ | 4 | æƒ…æ„Ÿè®°å½•ä¸åæ€ |
| é¤é¥®è®¡åˆ’ | 5 | é£Ÿè°±ä¸è®¢å•ç®¡ç† |

## ğŸ” ç”¨æˆ·è®¤è¯æ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/auth`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | æ˜¯å¦éœ€è¦è®¤è¯ |
|------|------|------|--------------|
| POST | `/register` | ç”¨æˆ·æ³¨å†Œ | âŒ |
| POST | `/login` | ç”¨æˆ·ç™»å½• | âŒ |
| POST | `/password/change` | ä¿®æ”¹å¯†ç  | âœ… |
| GET | `/profile/{userId}` | è·å–ç”¨æˆ·ä¿¡æ¯ | âœ… |
| PUT | `/avatar` | æ›´æ–°å¤´åƒ | âœ… |

## ğŸ’° è´¦å•ç®¡ç†æ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/anyu/bills`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| GET | `/` | è·å–è´¦å•åˆ—è¡¨ |
| POST | `/` | åˆ›å»ºè´¦å• |
| GET | `/{id}` | è·å–å•ä¸ªè´¦å• |
| PUT | `/{id}` | æ›´æ–°è´¦å• |
| DELETE | `/{id}` | åˆ é™¤è´¦å• |

## ğŸ“‚ åˆ†ç±»ç®¡ç†æ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/anyu/categories`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| GET | `/` | è·å–åˆ†ç±»åˆ—è¡¨ |
| POST | `/` | åˆ›å»ºåˆ†ç±» |
| PUT | `/{id}` | æ›´æ–°åˆ†ç±» |
| DELETE | `/{id}` | åˆ é™¤åˆ†ç±» |

## ğŸ“Š ç»Ÿè®¡æ•°æ®æ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/anyu/statistics`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| GET | `/monthly` | æœˆåº¦ç»Ÿè®¡ |
| GET | `/yearly` | å¹´åº¦ç»Ÿè®¡ |

## ğŸ’­ æƒ…æ„Ÿäº¤æµæ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/anyu/emotional`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| GET | `/events` | è·å–æƒ…æ„Ÿäº‹ä»¶åˆ—è¡¨ |
| POST | `/events` | åˆ›å»ºæƒ…æ„Ÿäº‹ä»¶ |
| POST | `/perspectives` | æ·»åŠ è§‚ç‚¹/åæ€ |
| GET | `/events/{id}/perspectives` | è·å–äº‹ä»¶è§‚ç‚¹ |

## ğŸ½ï¸ é¤é¥®è®¡åˆ’æ¨¡å—

### åŸºç¡€è·¯å¾„: `/api/anyu/meal-plans`

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ |
|------|------|------|
| GET | `/recipes` | è·å–é£Ÿè°±åˆ—è¡¨ |
| POST | `/recipes` | åˆ›å»ºé£Ÿè°± |
| GET | `/orders` | è·å–è®¢å•åˆ—è¡¨ |
| POST | `/orders` | åˆ›å»ºè®¢å• |
| PATCH | `/orders/{id}/status` | æ›´æ–°è®¢å•çŠ¶æ€ |

## ğŸ¯ å¸¸ç”¨æŸ¥è¯¢å‚æ•°

### è´¦å•ç›¸å…³
```
?page=1&page_size=10
&category=1
&date_from=2024-01-01
&date_to=2024-01-31
&type=income
```

### åˆ†ç±»ç›¸å…³
```
?type=income
?type=outcome
```

### ç»Ÿè®¡ç›¸å…³
```
?year=2024&month=1  // æœˆåº¦ç»Ÿè®¡
?year=2024          // å¹´åº¦ç»Ÿè®¡
```

### æƒ…æ„Ÿç›¸å…³
```
?page=1&page_size=10
&mood=happy
&date_from=2024-01-01
```

### é¤é¥®ç›¸å…³
```
?category=ä¸»é£Ÿ
?difficulty=easy
?status=pending
```

## ğŸ“± å“åº”çŠ¶æ€ç 

| çŠ¶æ€ç  | å«ä¹‰ | è¯´æ˜ |
|--------|------|------|
| 200 | æˆåŠŸ | è¯·æ±‚æˆåŠŸå¤„ç† |
| 201 | åˆ›å»ºæˆåŠŸ | èµ„æºåˆ›å»ºæˆåŠŸ |
| 204 | æ— å†…å®¹ | åˆ é™¤æˆåŠŸ |
| 400 | è¯·æ±‚é”™è¯¯ | å‚æ•°é”™è¯¯æˆ–æ ¼å¼ä¸æ­£ç¡® |
| 401 | æœªæˆæƒ | éœ€è¦ç™»å½•æˆ–tokenæ— æ•ˆ |
| 404 | æœªæ‰¾åˆ° | èµ„æºä¸å­˜åœ¨ |
| 500 | æœåŠ¡å™¨é”™è¯¯ | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

## ğŸš€ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

### 1. ç”¨æˆ·ç™»å½•
```javascript
fetch('/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    username: 'testuser',
    password: 'password123'
  })
})
```

### 2. è·å–è´¦å•åˆ—è¡¨
```javascript
fetch('/api/anyu/bills?page=1&page_size=10', {
  method: 'GET',
  headers: { 'Content-Type': 'application/json' }
})
```

### 3. åˆ›å»ºè´¦å•
```javascript
fetch('/api/anyu/bills', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    amount: 100.50,
    type: 'outcome',
    category_id: 1,
    description: 'åˆé¤è´¹ç”¨',
    date: '2024-01-15'
  })
})
```

### 4. è·å–æœˆåº¦ç»Ÿè®¡
```javascript
fetch('/api/anyu/statistics/monthly?year=2024&month=1', {
  method: 'GET',
  headers: { 'Content-Type': 'application/json' }
})
```

## ğŸ“ æ•°æ®æ¨¡å‹å‚è€ƒ

### è´¦å•æ¨¡å‹
```json
{
  "id": 1,
  "amount": 100.50,
  "type": "outcome",
  "category_id": 1,
  "description": "åˆé¤è´¹ç”¨",
  "date": "2024-01-15",
  "created_at": "2024-01-15T12:30:00Z"
}
```

### åˆ†ç±»æ¨¡å‹
```json
{
  "id": 1,
  "name": "é¤é¥®",
  "type": "outcome",
  "icon": "food",
  "color": "#FF6B6B",
  "is_default": true
}
```

### æƒ…æ„Ÿäº‹ä»¶æ¨¡å‹
```json
{
  "id": 1,
  "title": "ä»Šå¤©çš„å¼€å¿ƒäº‹",
  "content": "è¯¦ç»†å†…å®¹...",
  "mood": "happy",
  "date": "2024-01-15",
  "created_at": "2024-01-15T20:00:00Z"
}
```

## âš¡ æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **åˆç†ä½¿ç”¨åˆ†é¡µ**: å¤§é‡æ•°æ®æ—¶ä½¿ç”¨åˆ†é¡µå‚æ•°
2. **ç¼“å­˜é™æ€æ•°æ®**: åˆ†ç±»æ•°æ®å¯ä»¥é€‚å½“ç¼“å­˜
3. **æ‰¹é‡æ“ä½œ**: æ”¯æŒçš„åœ°æ–¹å°½é‡ä½¿ç”¨æ‰¹é‡æ“ä½œ
4. **é”™è¯¯é‡è¯•**: ç½‘ç»œé”™è¯¯æ—¶å®æ–½é‡è¯•æœºåˆ¶
5. **æ•°æ®é¢„åŠ è½½**: å…³é”®é¡µé¢é¢„åŠ è½½ç›¸å…³æ•°æ®

## ğŸ”§ è°ƒè¯•å·¥å…·æ¨è

- **Postman**: APIæµ‹è¯•å’Œæ–‡æ¡£ç”Ÿæˆ
- **Apifox**: å›¢é˜Ÿåä½œAPIç®¡ç†
- **Swagger**: è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£
- **Chrome DevTools**: ç½‘ç»œè¯·æ±‚ç›‘æ§

---
*æ–‡æ¡£ç‰ˆæœ¬: v1.0 | æœ€åæ›´æ–°: 2024*